# 第3章 命令基本格式及文件处理命令
---
### 3-1 命令格式

```[root@localhost~]#```

root &nbsp;&nbsp;&nbsp;&nbsp;当前用户名

localhost &nbsp;&nbsp;&nbsp;&nbsp;主机名（在局域网内可以重复）

~ &nbsp;&nbsp;&nbsp;&nbsp;当前所在目录（home），root用户为/root，普通用户为/home/uer/

\# &nbsp;&nbsp;&nbsp;&nbsp;超级用户提示符，普通用户为$

命令格式

命令&nbsp;&nbsp;[选项]&nbsp;&nbsp;[参数]

tips：

- 个别命令使用不遵守此格式
- 当多个选项时可以写在一起
- 简化选项与完整选项一致 e.g.&nbsp;-a等于-all

查询目录中的内容：ls；ll等于<strong>ls -l</strong>

ls &nbsp;&nbsp;[选项]&nbsp;&nbsp;[文件式目录]

选项：  
1. -a 显示所有文件， 包括隐藏文件  
2. -l 显示详细信息（-lh显示KB）  
3. -d 显示目录属性  
4. -h 人性化显示文件大小  
5. -i 显示inode（文件id编号）  

```-rw-r--r--.```(10位) 文件详细信息  
1. -文件类型（-文件，d目录，l软连接文件（快捷方式））  
2. 之后3位一组，分别代表u所有人，g所有组，o其他人  
3. 最后一位“.”代表ACL权限  

r读&nbsp;&nbsp;&nbsp;&nbsp;w写&nbsp;&nbsp;&nbsp;&nbsp;x执行execute  

“.”开头的文件表示隐藏文件（重要的系统文件不要删除）


### 3-2&3-3 目录处理命令
建立目录  

```mkdir -p [目录名]```  

-p 表示递归创建，即若一级目录不存在，则依次向下创建  

切换目录  

```cd [目录]```  

简化操作  

cd~&nbsp;&nbsp;&nbsp;&nbsp;回到当前user的home（等同于cd）  

cd-&nbsp;&nbsp;&nbsp;&nbsp;回到上次目录  

cd..&nbsp;&nbsp;&nbsp;&nbsp;回到上级目录  

cd.&nbsp;&nbsp;&nbsp;&nbsp;进去当前目录（无实际作用）
  

相对路径：参照当前所在目录，进行查找  

绝对路径：从根目录开始指定，一级一级递归查找，在任何目录下都能进入指定位置  

```pwd```显示当前所在位置

```rmdir [目录名]```  

rmdir删除空目录（只能删除空目录）  

```rm    -rf     [文件或者目录] ```  
 
rm&nbsp;删除文件（remove）  

-r&nbsp;删除目录  

-f&nbsp;强制删除  

复制  

```cp    [选项]    [原文件或目录]    [目标目录]```  

-r&nbsp;复制目录  

-p&nbsp;连带文件属性复制  

-d&nbsp;若源文件为链接文件，则复制链接属性  

-a&nbsp;等同于-pdr

剪切或者重命名  

```mv [原文件或者目录] [目标目录]```


### 3-4 常见目录作用

根目录/下的bin和sbin，usr/下的bin和sbin都用于保存系统命令

/boot保存启动数据

/dev特殊文件（硬件）

/etc系统配置文件

/home普通用户家目录

/root超级用户家目录

/lib函数库目录

/media /misc /mnt 空目录用于挂载外置存储设备

/proc /sys 直接写入内存的文件（不用操作）

/tmp 临时目录

/usr 系统软件资源目录

/usr/bin/ 系统命令（普通用户）

/usr/sbin/ 系统命令（超级用户）

/var 系统相关文档内容 

可以在家目录/root，/home，或者/tmp目录下随意放内容

### 3-5 链接命令

```ln -s [原文件] [目标文件]```

选项&nbsp;-s&nbsp;创建软链接 

硬链接：

1. 拥有相同的inode和存储block块，可以看作同一个块  
2. 可以通过inode识别  
3. 不能跨分区  
4. 不能针对目录使用  
5. 删去一个文件，还可以通过另一个文件访问

硬链接可以理解为一个房间又开了一个门，可以访问同一个房间  
不建议使用硬链接，1是过于隐蔽，除了相同的inode，2是不能跨分区，3是不能针对目录

软链接：

1. 类似于windows的快捷方式  
2. 软链接有自己的inode和block块，但数据块只保存有原文件的文件名和inode，并没有实际的文件数据  
3. 软链接的权限都是lrwxrwxrwx  
4. 修改任意文件，另一个都改变  
5. delte原文件，则软链接将无法使用  

软链接的原文件如果不写绝对路径，必须与目标文件同一个路径下才能找到
 